## Gitæäº¤è§„èŒƒ
```
feat é€‚ç”¨åœºæ™¯ï¼šå…¨æ˜¯æ–°å¢åŠŸèƒ½ï¼Œåœ¨æ—§åŠŸèƒ½åŸºç¡€ä¸Šåšæ”¹åŠ¨ï¼ˆåŒ…å«æ–°å¢ï¼Œåˆ é™¤ï¼‰
fix é€‚ç”¨åœºæ™¯ï¼šä¿®å¤bugï¼ŒåŒ…å«æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ
refactor é€‚ç”¨åœºæ™¯ï¼šé‡æ„ä»»ä½•åŠŸèƒ½ï¼Œé‡æ„å‰å’Œé‡æ„åè¾“å…¥å’Œè¾“å‡ºéœ€è¦å®Œå…¨ä¸å˜ï¼Œå¦‚æœæœ‰å˜åŒ–ï¼Œåœ¨æ”¹åŠ¨çš„éƒ¨åˆ†è¯·ä½¿ç”¨`feat`
test é€‚ç”¨åœºæ™¯ï¼šå¢åŠ å•å…ƒæµ‹è¯•æ—¶
style é€‚ç”¨åœºæ™¯ï¼šä¿®æ”¹ä»£ç æ ¼å¼ï¼Œä»£ç é€»è¾‘å®Œå…¨ä¸å˜
docs é€‚ç”¨åœºæ™¯ï¼šç¼–å†™æ³¨é‡Šæˆ–è€…ä½¿ç”¨æ–‡æ¡£
emoji	emojiä»£ç 	commitè¯´æ˜
ğŸ¨ (è°ƒè‰²æ¿)	:art:	æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼
âš¡ï¸ (é—ªç”µ)	:zap:	æå‡æ€§èƒ½
ğŸ (èµ›é©¬)	:racehorse:	æå‡æ€§èƒ½
ğŸ”¥ (ç«ç„°)	:fire:	ç§»é™¤ä»£ç æˆ–æ–‡ä»¶
ğŸ› (bug)	:bug:	ä¿®å¤ bug
ğŸš‘ (æ€¥æ•‘è½¦)	:ambulance:	é‡è¦è¡¥ä¸
âœ¨ (ç«èŠ±)	:sparkles:	å¼•å…¥æ–°åŠŸèƒ½
ğŸ“ (é“…ç¬”)	:pencil:	æ’°å†™æ–‡æ¡£
ğŸš€ (ç«ç®­)	:rocket:	éƒ¨ç½²åŠŸèƒ½
ğŸ’„ (å£çº¢)	:lipstick:	æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶
ğŸ‰ (åº†ç¥)	:tada:	åˆæ¬¡æäº¤
âœ… (ç™½è‰²å¤é€‰æ¡†)	:white_check_mark:	å¢åŠ æµ‹è¯•
ğŸ”’ (é”)	:lock:	ä¿®å¤å®‰å…¨é—®é¢˜
ğŸ (è‹¹æœ)	:apple:	ä¿®å¤ macOS ä¸‹çš„é—®é¢˜
ğŸ§ (ä¼é¹…)	:penguin:	ä¿®å¤ Linux ä¸‹çš„é—®é¢˜
ğŸ (æ——å¸œ)	:checked_flag:	ä¿®å¤ Windows ä¸‹çš„é—®é¢˜
ğŸ”– (ä¹¦ç­¾)	:bookmark:	å‘è¡Œ/ç‰ˆæœ¬æ ‡ç­¾
ğŸš¨ (è­¦è½¦ç¯)	:rotating_light:	ç§»é™¤ linter è­¦å‘Š
ğŸš§ (æ–½å·¥)	:construction:	å·¥ä½œè¿›è¡Œä¸­
ğŸ’š (ç»¿å¿ƒ)	:green_heart:	ä¿®å¤ CI æ„å»ºé—®é¢˜
â¬‡ï¸ (ä¸‹é™ç®­å¤´)	:arrow_down:	é™çº§ä¾èµ–
â¬†ï¸ (ä¸Šå‡ç®­å¤´)	:arrow_up:	å‡çº§ä¾èµ–
ğŸ‘· (å·¥äºº)	:construction_worker:	æ·»åŠ  CI æ„å»ºç³»ç»Ÿ
ğŸ“ˆ (ä¸Šå‡è¶‹åŠ¿å›¾)	:chart_with_upwards_trend:	æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç 
ğŸ”¨ (é”¤å­)	:hammer:	é‡å¤§é‡æ„
â– (å‡å·)	:heavy_minus_sign:	å‡å°‘ä¸€ä¸ªä¾èµ–
ğŸ³ (é²¸é±¼)	:whale:	ç›¸å…³å·¥ä½œ
â• (åŠ å·)	:heavy_plus_sign:	å¢åŠ ä¸€ä¸ªä¾èµ–
ğŸ”§ (æ‰³æ‰‹)	:wrench:	ä¿®æ”¹é…ç½®æ–‡ä»¶
ğŸŒ (åœ°çƒ)	:globe_with_meridians:	å›½é™…åŒ–ä¸æœ¬åœ°åŒ–
âœï¸ (é“…ç¬”)	:pencil2:	ä¿®å¤ typo
```
## ä¸€ã€æ•´ä¸ªæ¡†æ¶è®¾è®¡æ€è·¯
1. `OkHttps`+`AllureUtils` æ¨¡å—è¿›è¡Œhttpçš„è¯·æ±‚åŠallureæŠ¥å‘Šæ—¥å¿—ä¿¡æ¯æ³¨å…¥
2. `pytest`å®ç°å•å…ƒæµ‹è¯• ã€`@pytest.mark.parametrize`å®ç°æ•°æ®é©±åŠ¨ï¼ˆå®é™…ä¸šåŠ¡ä½¿ç”¨è¿‡ç¨‹ä¸­å¹¶ä¸çµæ´»ï¼Œå¤ªå±€é™ï¼‰
3. `HarToData EncrypUtilsï¼ˆåŠ è§£å¯†ï¼‰`å®ç°æ¨¡å—è‡ªåŠ¨å¯¼å‡ºæ ‡`RESTful`é£æ ¼çš„æµ‹è¯•ç”¨ä¾‹ ï¼ˆæœ‰ä¾èµ–æ€§çš„æ¥å£ æ„Ÿè§‰æ•ˆç‡å¹¶ä¸é«˜ï¼‰
4. `Processor` æ¥å®ç° å‰ç½®ã€åç½®è„šæœ¬å¤„ç†çš„åŠŸèƒ½
5. `RandUtils ï¼ˆéšæœºè·å–å­—ç¬¦ï¼‰FileUtilsï¼ˆæ–‡ä»¶å¤„ç†ï¼‰DataUtilsï¼ˆæ—¥æœŸå¤„ç†ï¼‰....`æ¥äº§ç”Ÿæµ‹è¯•æ•°æ®
6. `MySQLUtils`ã€`RedisUtils`å®ç°è¿‡å¤šä¾èµ–ä¸Šçº§æ¥å£è°ƒæ¢æ•°æ®ä¸­é—´æŒ‚äº†çš„é—®é¢˜
7. `DataKit`ã€`Loader`ã€`JsonUtils`ã€`YamlUtils`ã€`Template`æ•°æ®åŠ è½½åŠå¤„ç†éƒ¨åˆ†æ ¼å¼é—®é¢˜
8. `Wrapper` æ‰©å±•è¯­æ³•ç³–
9. `WxRobotTools`ã€`EmaliUtils`ã€`JenkinsUtils` å®ç°ä¼å¾®æ¨é€æœºå™¨äººåŠé‚®ä»¶æŠ„é€

## äºŒã€å®é™…ç›®å½•ç»“æ„
```
InterfaceTest
â”œâ”€ config ï¼ˆallureã€headerã€æ¶ˆæ¯æ¨é€æ˜¯çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼‰
â”‚  â”œâ”€ allure_feature.yaml
â”‚  â”œâ”€ norm_headers.yaml
â”‚  â””â”€ push_message.yaml
â”œâ”€ environment.properties ï¼ˆallureæŠ¥å‘Šæ‰€éœ€çš„ç¯å¢ƒå˜é‡ï¼‰
â”œâ”€ application-prod.yaml  ï¼ˆç”Ÿæˆç¯å¢ƒé…ç½®ï¼‰
â”œâ”€ application-sit.yaml   ï¼ˆsitç¯å¢ƒé…ç½®ï¼‰
â”œâ”€ application-uat.yaml   ï¼ˆuatç¯å¢ƒé…ç½®ï¼‰
â”œâ”€ application.properties.yaml ï¼ˆç¯å¢ƒå£°æ˜ï¼‰
â”œâ”€ BaseSetting.py          ï¼ˆé¡¹ç›®æ‰€éœ€å¼•ç”¨åˆ°çš„è·¯å¾„é…ç½®ï¼‰
â”œâ”€ conftest.py             ï¼ˆpytest fixtureåº”ç”¨ï¼‰
â”œâ”€ iutils  ï¼ˆå·¥å…·ç±»ã€è‹¥ä¸šåŠ¡ç”¨ä¸ä¸Šçš„ä¹Ÿå¯ä»¥å»æ‰ä¸€éƒ¨åˆ†ï¼‰
â”‚  â”œâ”€ AllureUtils.py
â”‚  â”œâ”€ AreaCode.py
â”‚  â”œâ”€ Assertion.py
â”‚  â”œâ”€ ConfigParser.py
â”‚  â”œâ”€ DataKit.py
â”‚  â”œâ”€ DateUtils.py
â”‚  â”œâ”€ DingTalkRobot.py
â”‚  â”œâ”€ EmaliUtils.py
â”‚  â”œâ”€ EncryptUtils.py
â”‚  â”œâ”€ Exceptions.py
â”‚  â”œâ”€ FolderUtils.py
â”‚  â”œâ”€ HarToData.py
â”‚  â”œâ”€ Helper.py
â”‚  â”œâ”€ IDCards.py
â”‚  â”œâ”€ JenkinsUtils.py
â”‚  â”œâ”€ JsonUtils.py
â”‚  â”œâ”€ Loader.py
â”‚  â”œâ”€ LogUtils.py
â”‚  â”œâ”€ MySQLUtils.py
â”‚  â”œâ”€ OkHttps.py
â”‚  â”œâ”€ PandasUtils.py
â”‚  â”œâ”€ Processor.py
â”‚  â”œâ”€ RandUtils.py
â”‚  â”œâ”€ RedisUtils.py
â”‚  â”œâ”€ Shell.py
â”‚  â”œâ”€ Swagger.py
â”‚  â”œâ”€ Template.py
â”‚  â”œâ”€ Wrapper.py
â”‚  â”œâ”€ WxRobotTools.py
â”‚  â”œâ”€ YamlUtils.py
â”‚  â””â”€ __init__.py
â”œâ”€ libs  ï¼ˆä¾èµ–åŒ…ï¼‰
â”œâ”€ outputï¼ˆæ—¥å¿—äº§ç”Ÿå­˜ç­‰ç›¸å…³è¾“å‡ºçš„è·¯å¾„ï¼‰
â”œâ”€ pytest.ini ï¼ˆpytestä¸€äº›åŸºç¡€é…ç½®ã€æ³¨æ„è¦ansiç¼–ç ï¼‰
â”œâ”€ requirements.txt ï¼ˆä¾èµ–æ¶åŒ…ï¼‰
â”œâ”€ RunAll.py  ï¼ˆè°ƒè¯•çš„æ—¶å€™ç”¨çš„ä¸»å‡½æ•°ï¼‰
â”œâ”€ SendMsg.py  ï¼ˆå‘é€é‚®ä»¶åŠæ¶ˆæ¯æ¨é€ï¼‰
â”œâ”€ summary.yaml å­˜å‚¨äº§ç”ŸæŠ¥å‘Šç»“æœçš„
â”œâ”€ testings  ï¼ˆæµ‹è¯•ç±»ã€ä¸»è¦åˆ†configã€controlã€daoã€serviceå±‚å…·ä½“å®ç°æ ¹æ®ä¸åŒä¸šåŠ¡ï¼‰
â”‚  â”œâ”€ config
â”‚  â”‚  â”œâ”€ localhost ï¼ˆç¦»çº¿æœ¬åœ°æ•°æ®ï¼‰
â”‚  â”‚  â”‚  â””â”€ xxxx.yaml
â”‚  â”‚  â”œâ”€ properties (åŸŸååŠurlçš„åŸºç¡€é…ç½®)
â”‚  â”‚  â”‚  â”œâ”€ dns_prod.yaml
â”‚  â”‚  â”‚  â”œâ”€ dns_sit.yaml
â”‚  â”‚  â”‚  â””â”€ dns_uat.yaml
â”‚  â”‚  â””â”€ variables  ï¼ˆè‡ªå®šä¹‰å‚æ•°ï¼šå¦‚tokenã€å…¨å±€å˜é‡...ï¼‰
â”‚  â”‚     â”œâ”€ token.yaml
â”‚  â”‚     â””â”€ global.yaml
â”‚  â”œâ”€ control ï¼ˆä¸€äº›ç›¸å…³é…ç½®ï¼šä¾èµ–æ•°æ®ã€è·¯å¾„ã€sqlè¿æ¥ã€url...ï¼‰
â”‚  â”‚  â”œâ”€ data.py
â”‚  â”‚  â”œâ”€ init.py
â”‚  â”‚  â”œâ”€ path.py
â”‚  â”‚  â”œâ”€ sql.py
â”‚  â”‚  â”œâ”€ url.py
â”‚  â”‚  â”œâ”€ variables.py
â”‚  â”‚  â””â”€ __init__.py
â”‚  â”œâ”€ dao  ï¼ˆå‡†å¤‡å¥½çš„æµ‹è¯•æ•°æ®ï¼‰
â”‚  â”‚  â”œâ”€ test_csv
â”‚  â”‚  â”‚  â””â”€ xxxx.csv
â”‚  â”‚  â”œâ”€ test_img
â”‚  â”‚  â”‚  â””â”€ xxxx.png
â”‚  â”‚  â”œâ”€ test_json
â”‚  â”‚  â”‚  â””â”€ xxxxx.json
â”‚  â”‚  â””â”€ test_yaml
â”‚  â”‚     â””â”€ xxxxx.yaml
â”‚  â”œâ”€ entity  ï¼ˆå…¬å…±å®ä½“ç±»ï¼‰
â”‚  â”‚  â”œâ”€ Backend.py
â”‚  â”‚  â”œâ”€ Blockette.py
â”‚  â”‚  â”œâ”€ Login.py
â”‚  â”‚  â””â”€ Seckill.py
â”‚  â””â”€ service  ï¼ˆcaseç¼–å†™ï¼‰
â”‚     â”œâ”€ product
â”‚     â”‚  â”œâ”€ test_xxxx_001.py
â”‚     â”‚  â””â”€ test_xxxx_002.py
â”‚     â””â”€ seckilll
â”‚        â”œâ”€ test_xxxx_001.py
â”‚        â”œâ”€ test_xxxx_002.py
â”‚        â”œâ”€ test_xxxx_003.py
â”œâ”€ _version.py
â”œâ”€ __init__.py
```
## ä¸‰ã€jenkins æŒç»­é›†æˆ
1. jenkins ä¸­é…ç½®æºç  git è·¯å¾„
2. jenkins ä¸­é…ç½® allure
3. æ„å»ºï¼ŒæŸ¥çœ‹æŠ¥å‘Š

## å››ã€allureåŠpytestç›¸å…³çš„è¡¥å……
### 1ã€fixtureå¸¸ç”¨ç‰¹æ€§
```
fixture_marker = FixtureFunctionMarker(
scope=scope, params=params, autouse=autouse, ids=ids, name=name,)
scope -- å…±äº«è¿™ä¸ªè®¾å¤‡çš„èŒƒå›´ï¼›ä¸€ä¸ª "function" ï¼ˆé»˜è®¤ï¼‰ "class" ï¼Œ "module" ï¼Œ "package" æˆ– "session" . æ­¤å‚æ•°ä¹Ÿå¯ä»¥æ˜¯æ¥æ”¶ (fixture_name, config) ä½œä¸ºå‚æ•°è¿”å› str ä½¿ç”¨ä¸Šé¢æåˆ°çš„å€¼ä¹‹ä¸€ã€‚çœ‹åˆ°äº†å— åŠ¨æ€èŒƒå›´ æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æ–‡æ¡£ã€‚
params -- ä¸€ä¸ªå¯é€‰çš„å‚æ•°åˆ—è¡¨ï¼Œå®ƒå°†å¯¼è‡´å¤šæ¬¡è°ƒç”¨fixtureå‡½æ•°å’Œä½¿ç”¨å®ƒçš„æ‰€æœ‰æµ‹è¯•ã€‚å½“å‰å‚æ•°åœ¨ä¸­å¯ç”¨ request.param .
autouse -- å¦‚æœä¸ºTrueï¼Œé‚£ä¹ˆfixtureå‡½æ•°å°†ä¸ºæ‰€æœ‰å¯ä»¥çœ‹åˆ°å®ƒçš„æµ‹è¯•æ¿€æ´»ã€‚å¦‚æœä¸ºFalseï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™éœ€è¦æ˜¾å¼å¼•ç”¨æ¥æ¿€æ´»è®¾å¤‡ã€‚
ids -- å­—ç¬¦ä¸²idçš„åˆ—è¡¨ï¼Œæ¯ä¸ªä¸å‚æ•°ç›¸å¯¹åº”ï¼Œå› æ­¤å®ƒä»¬æ˜¯æµ‹è¯•idçš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰æä¾›idï¼Œåˆ™å°†ä»å‚æ•°è‡ªåŠ¨ç”Ÿæˆè¿™äº›idã€‚
name -- è®¾å¤‡çš„åç§°ã€‚é»˜è®¤ä¸ºä¿®é¥°å‡½æ•°çš„åç§°ã€‚å¦‚æœfixtureæ˜¯åœ¨å®šä¹‰fixtureçš„åŒä¸€ä¸ªæ¨¡å—ä¸­ä½¿ç”¨çš„ï¼Œé‚£ä¹ˆfixtureçš„å‡½æ•°åå°†è¢«è¯·æ±‚fixtureçš„å‡½æ•°argéšè—ï¼›è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯å‘½åä¿®é¥°å‡½æ•° fixture_<fixturename> ç„¶åä½¿ç”¨ @pytest.fixture(name='<fixturename>') .
```
scopeè¯¦ç»†è¯´æ˜
1. scope = 'function' æµ‹è¯•å‡½æ•°ç»´åº¦ï¼Œé»˜è®¤èŒƒå›´ï¼Œåˆ™åœ¨æµ‹è¯•ç»“æŸæ—¶é”€æ¯fixtureã€‚
2. scope = 'class' æµ‹è¯•ç±»ç»´åº¦ï¼Œåœ¨classä¸­æœ€åä¸€æ¬¡æµ‹è¯•çš„æ‹†å¸è¿‡ç¨‹ä¸­ï¼Œå¤¹å…·è¢«ç ´åã€‚
3. scope = 'module' æµ‹è¯•æ–‡ä»¶ç»´åº¦ï¼Œåœ¨æ¨¡å—ä¸­æœ€åä¸€æ¬¡æµ‹è¯•çš„æ‹†å¸è¿‡ç¨‹ä¸­ï¼Œå¤¹å…·è¢«ç ´åã€‚
4. scope = 'session' æµ‹è¯•ä¼šè¯ç»´åº¦ï¼Œå¤¹å…·åœ¨æµ‹è¯•ä¼šè¯ç»“æŸæ—¶è¢«é”€æ¯ã€‚

### 2ã€allureæ ‡ç­¾
1. @allure.epic()	epicæè¿°	æ•æ·é‡Œé¢çš„æ¦‚å¿µï¼Œå®šä¹‰å²è¯—ï¼Œå¾€ä¸‹æ˜¯feature
2. @allure.feature()ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚
3. @allure.story() ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯ï¼Œå³æµ‹è¯•éœ€æ±‚
4. @allure.title() ç”¨äºæè¿°ç”¨ä¾‹åç§° é‡å‘½åhtmlæŠ¥å‘Šåç§°
5. @allure.step() ç”¨äºæè¿°ç”¨ä¾‹æ­¥éª¤
6. @allure.description() ç”¨äºæè¿°ç”¨ä¾‹ï¼Œæ”¯æŒhtmlæ˜¾ç¤º
7. allure.attach() ç”¨äºæ·»åŠ é™„ä»¶
8. @allure.severity() ç”¨äºæè¿°ç”¨ä¾‹çº§åˆ« 
    ```
    - blockerã€€ é˜»å¡ç¼ºé™·ï¼ˆåŠŸèƒ½æœªå®ç°ï¼Œæ— æ³•ä¸‹ä¸€æ­¥ï¼‰
    - criticalã€€ã€€ä¸¥é‡ç¼ºé™·ï¼ˆåŠŸèƒ½ç‚¹ç¼ºå¤±ï¼‰
    - normalã€€ã€€ ä¸€èˆ¬ç¼ºé™·ï¼ˆè¾¹ç•Œæƒ…å†µï¼Œæ ¼å¼é”™è¯¯ï¼‰
    - minorã€€ æ¬¡è¦ç¼ºé™·ï¼ˆç•Œé¢é”™è¯¯ä¸uiéœ€æ±‚ä¸ç¬¦ï¼‰
    - trivialã€€ã€€ è½»å¾®ç¼ºé™·ï¼ˆå¿…é¡»é¡¹æ— æç¤ºï¼Œæˆ–è€…æç¤ºä¸è§„èŒƒï¼‰
    ```
8. @allure.testcase()	æµ‹è¯•ç”¨ä¾‹çš„é“¾æ¥åœ°å€	å¯¹åº”åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ç³»ç»Ÿé‡Œé¢çš„case
9. @allure.issue()	ç¼ºé™·	å¯¹åº”ç¼ºé™·ç®¡ç†ç³»ç»Ÿé‡Œé¢çš„é“¾æ¥
10. @allure.link()	é“¾æ¥	å®šä¹‰ä¸€ä¸ªé“¾æ¥ï¼Œåœ¨æµ‹è¯•æŠ¥å‘Šå±•ç°

å‡½æ•°å¤–éƒ¨è°ƒç”¨
```
import pytest
import allure
@allure.epic()
@allure.severity('critical')
@allure.feature('ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚')
@allure.story('ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯ï¼Œå³æµ‹è¯•éœ€æ±‚')
@allure.title('ç”¨äºæè¿°ç”¨ä¾‹åç§°')
def test_01():
    # å¯ä»¥åœ¨ç”¨ä¾‹å†…éƒ¨ç¼–å†™ç”¨ä¾‹æ­¥éª¤ï¼Œç­‰åŒäº@allure.step()
    # æ­¥éª¤å¿…é¡»å†™åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæ³¨æ„æ ¼å¼
    with allure.step('æè¿°æ­¥éª¤'):
        # allure.attachå¯ä»¥å‘æŠ¥å‘Šä¸­æ·»åŠ é™„ä»¶
        with open(file_path, 'rb') as file:
            img = file.read()
        allure.attach(img, 'è¿™æ˜¯....é™„ä»¶')
    pass
```
å‡½æ•°å†…éƒ¨è°ƒç”¨
```
def test02():
    allure.dynamic.severity('critical')
    allure.dynamic.feature('ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚')
    allure.dynamic.story('ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯ï¼Œå³æµ‹è¯•éœ€æ±‚')
    allure.dynamic.title('ç”¨äºæè¿°ç”¨ä¾‹åç§°')
    allure.dynamic.description('è¿™æ˜¯ç”¨ä¾‹æè¿°')
    pass
```
å°è£…åçš„è°ƒç”¨
```
    1. setTag(test_setup["xxx"]["allures"]) 
    ä»¥ä¸Šå†™æ³•ä¾èµ–yamlé…ç½® ï¼ˆå…¨å±€æˆ–å•ä¾‹éƒ½å¯ä»¥ï¼‰ï¼š
    config:
    - allures:
        severity: ç­‰çº§
        feature: ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚
        story: ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯
        title: ç”¨äºæè¿°ç”¨ä¾‹åç§°     
        description: è¿™æ˜¯ç»§æ‰¿æµ‹è¯•çš„ç”¨ä¾‹æè¿°
    test_setup:
      xxx_case:
        allures:
          severity: ç­‰çº§
          feature: ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚
          story: ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯
          title: ç”¨äºæè¿°ç”¨ä¾‹åç§°     
          description: è¿™æ˜¯ç»§æ‰¿æµ‹è¯•çš„ç”¨ä¾‹æè¿°
    2. setTag(
      {'feature': 'ç”¨äºæè¿°è¢«æµ‹è¯•äº§å“éœ€æ±‚',
     'severity': 'ç­‰çº§',
     'story':'ç”¨äºæè¿°featureçš„ç”¨æˆ·åœºæ™¯',
     'title':'ç”¨äºæè¿°ç”¨ä¾‹åç§°',
     'description': 'è¿™æ˜¯ç”¨ä¾‹æè¿°'})
```
### ä¸‰ã€ caseæ‰§è¡Œé¡ºåºè°ƒæ•´
1. pytesté»˜è®¤æŒ‰å­—æ¯é¡ºåºå»æ‰§è¡Œçš„ï¼ˆå°å†™è‹±æ–‡--->å¤§å†™è‹±æ–‡--->0-9æ•°å­—ï¼‰
2. ç”¨ä¾‹ä¹‹é—´çš„é¡ºåºæ˜¯æ–‡ä»¶ä¹‹é—´æŒ‰ç…§ASCLLç æ’åºï¼Œæ–‡ä»¶å†…çš„ç”¨ä¾‹æŒ‰ç…§ä»ä¸Šå¾€ä¸‹æ‰§è¡Œ
```
setup_module->setup_claas->setup_function->testcase->teardown_function->teardown_claas->teardown_module
```
3. å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹æ’ä»¶pytest-orderingå®ç°è‡ªå®šä¹‰ç”¨ä¾‹æ‰§è¡Œé¡ºåº
å®˜æ–¹æ–‡æ¡£ï¼š https://pytest-ordering.readthedocs.io/en/develop/
æ³¨æ„ï¼šä¸€æ—¦è®¾ç½®äº†è‡ªå®šä¹‰çš„æ‰§è¡Œé¡ºåºï¼Œå°±å¿…é¡»å¾—å»¶ä¼¸@pytest.mark.run(order=1)é‡Œé¢å¾—orderå­—æ®µ
```
pip install pytest-ordering
```
1. æ–¹å¼ä¸€
```
ç¬¬ä¸€ä¸ªæ‰§è¡Œï¼š@ pytest.mark.first
ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.second
å€’æ•°ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.second_to_last
æœ€åä¸€ä¸ªæ‰§è¡Œï¼š@pytest.mark.last
```
æ–¹å¼äºŒ
```
ç¬¬ä¸€ä¸ªæ‰§è¡Œï¼š@ pytest.mark.run('first')
ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.run('second')
å€’æ•°ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.run('second_to_last')
æœ€åä¸€ä¸ªæ‰§è¡Œï¼š@ pytest.mark.run('last')
```
æ–¹å¼ä¸‰
```
ç¬¬ä¸€ä¸ªæ‰§è¡Œï¼š@ pytest.mark.run(order=1)
ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.run(order=2)
å€’æ•°ç¬¬äºŒä¸ªæ‰§è¡Œï¼š@ pytest.mark.run(order=-2)
æœ€åä¸€ä¸ªæ‰§è¡Œï¼š@ pytest.mark.run(order=-1)
```
å·²ç»æ”¹å˜äº†ç”¨ä¾‹æ‰§è¡Œè§„åˆ™ï¼Œé’ˆå¯¹äºæ˜¯å…¨å±€çš„ï¼Œä¼šå…ˆæ‰§è¡Œå®Œ@pytest.mark.run(order=1)æ‰ä¼šæ‰§è¡Œorder=2çš„ç”¨ä¾‹
å…¶å®æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ’ä»¶çš„å®ç”¨åœºæ™¯ä¸æ˜¯å¾ˆå¤šï¼Œå¦‚æœéœ€è¦æŒ‡å®šæŸä¸ªç”¨ä¾‹ç¬¬ä¸€ä¸ªæ‰§è¡Œå’Œæœ€åæ‰§è¡Œï¼Œå¯ä»¥ç”¨è¯¥æ’ä»¶å®ç°ã€‚
å¦‚æœè¦æŒ‰ç…§ä½ æŒ‡å®šçš„é¡ºåºæ‰§è¡Œä¸‹å»ï¼Œéœ€è¦åœ¨æ¯ä¸ªç”¨ä¾‹å‰éƒ½åŠ ä¸Š@pytest.mark.run(order=1)ï¼Œå…¶ä¸­orderä¸­çš„æ•°å­—éœ€é€’å¢ã€‚
### å››ã€è·³è¿‡æ‰§è¡Œ pytest-dependency
1. é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨ç”¨ä¾‹å¼€å§‹çš„ä½ç½®æ‰“ä¸Šä¸€ä¸ªè£…é¥°å™¨@pytest.mark.dependency()ï¼Œè¿™æ˜¯ä»£è¡¨è¿™æ¡ç”¨ä¾‹ä½œä¸ºä¸»æ¡ä»¶ï¼Œå¦‚æœè¿™æ¡ç”¨ä¾‹å¤±è´¥ï¼Œå…³è”å®ƒçš„ç”¨ä¾‹ä¼šè·³è¿‡æ‰§è¡Œã€‚
åœ¨è¢«å…³è”çš„ç”¨ä¾‹ä¸Šï¼Œä¹Ÿæ‰“ä¸Šå¸¦å‚æ•°çš„è£…é¥°å™¨@pytest.mark.dependency()ï¼Œdependsæ¥å—çš„å‚æ•°æ˜¯å…³è”çš„ä¾èµ–ç”¨ä¾‹åã€‚
åœ¨dependsä¹Ÿå¯ä»¥ç”¨åˆ«åçš„æ–¹å¼æŒ‡å®šç”¨ä¾‹åã€‚
ç”¨è¿‡unittestçš„ç«¥é‹éƒ½çŸ¥é“ï¼Œæœ‰ä¸¤ä¸ªå‰ç½®æ–¹æ³•ï¼Œä¸¤ä¸ªåç½®æ–¹æ³•ï¼›åˆ†åˆ«æ˜¯
```
setup()
setupClass()
teardown()
teardownClass()
```
Pytestä¹Ÿè´´å¿ƒçš„æä¾›äº†ç±»ä¼¼setupã€teardownçš„æ–¹æ³•ï¼Œå¹¶ä¸”è¿˜è¶…è¿‡å››ä¸ªï¼Œä¸€å…±æœ‰åç§
```
æ¨¡å—çº§åˆ«ï¼šsetup_moduleã€teardown_module
å‡½æ•°çº§åˆ«ï¼šsetup_functionã€teardown_functionï¼Œä¸åœ¨ç±»ä¸­çš„æ–¹æ³•
ç±»çº§åˆ«ï¼šsetup_classã€teardown_class
æ–¹æ³•çº§åˆ«ï¼šsetup_methodã€teardown_method
æ–¹æ³•ç»†åŒ–çº§åˆ«ï¼šsetupã€teardown
```

### äº”ã€æ–­è¨€åŸç”Ÿassertå’Œpytest-assume
```
#!/usr/bin/env python3
#!coding:utf-8
import pytest
 
@pytest.mark.parametrize(('x', 'y'), [(1, 1), (1, 0), (0, 1)])
def test_simple_assume(x, y):
    assert x == y  #å¦‚æœè¿™ä¸ªæ–­è¨€å¤±è´¥ï¼Œåˆ™åç»­éƒ½ä¸ä¼šæ‰§è¡Œ
    assert True
    assert False
 
@pytest.mark.parametrize(('x', 'y'), [(1, 1), (1, 0), (0, 1)])
def test_pytest_assume(x, y):
    pytest.assume(x == y) #å³ä½¿è¿™ä¸ªæ–­è¨€å¤±è´¥ï¼Œåç»­ä»æ—§æ‰§è¡Œ
    pytest.assume(True)
    pytest.assume(False)
```


|æ–­è¨€ç±»å‹| 1ï¼Œ1 | 1ï¼Œ0 | 0ï¼Œ1 | ç»“è®º |
| :----:| :----: | :----: |:----:| :----: |
| assert | æ–­è¨€3å¤±è´¥ | æ–­è¨€1å¤±è´¥ |æ–­è¨€2å’Œæ–­è¨€3ä¸æ‰§è¡Œ|æ–­è¨€1å¤±è´¥ï¼Œæ–­è¨€2å’Œæ–­è¨€3ä¸æ‰§è¡Œ|asserté‡åˆ°æ–­è¨€å¤±è´¥åˆ™åœä¸‹|
| pytest.assume | æ–­è¨€3å¤±è´¥ | æ–­è¨€1å¤±è´¥ |æ–­è¨€2å’Œæ–­è¨€3ç»§ç»­æ‰§è¡Œ|æ–­è¨€1å¤±è´¥ï¼Œæ–­è¨€2å’Œæ–­è¨€3ç»§ç»­æ‰§è¡Œ|pytest.assumeæ— è®ºæ–­è¨€ç»“æœï¼Œå…¨éƒ¨æ‰§è¡Œ|
1. é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨withä½¿ç”¨pytest-assume

```
#!/usr/bin/env python3
#!coding:utf-8
import pytest
from pytest import assume
@pytest.mark.parametrize(('x', 'y'), [(1, 1), (1, 0), (0, 1)])
def test_simple_assume(x, y):
    #ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å¥½å¤„æ˜¯ä¸ç”¨æ˜¾ç¤ºå»tryå’Œfinallyæ•è·å¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨è¿™ç§å†™æ³•ï¼Œç®€æ´æœ‰æ•ˆã€‚
    with assume: assert x == y
    with assume: assert True
    with assume: assert False
```

2. ä¸»è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸Šä¸‹æ–‡ç®¡ç†å™¨é‡Œé¢åŒ…å«å¤šä¸ªæ–­è¨€ï¼Œåˆ™åªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«æ‰§è¡Œï¼Œå¦‚

```
#!/usr/bin/env python3
#!coding:utf-8
import pytest
from pytest import assume
    
@pytest.mark.parametrize(('x', 'y'), [(1, 1), (1, 0), (0, 1)])
def test_simple_assume(x, y):
    #ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å¥½å¤„æ˜¯ä¸ç”¨æ˜¾ç¤ºå»tryå’Œfinallyæ•è·å¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨è¿™ç§å†™æ³•ï¼Œç®€æ´æœ‰æ•ˆã€‚
    with assume: 
        #åªæœ‰ç¬¬ä¸€ä¸ªæ–­è¨€ä¼šè¢«æ‰§è¡Œï¼
        assert x == y
        assert True
        assert False  
```

## å…­ã€è¡¥å……
#### 1.ä¸åŒæ–¹å¼çš„æ•°æ®è¯·æ±‚è¯´æ˜
params:å­—å…¸æˆ–è€…å­—èŠ‚åºåˆ—ä½œä¸ºå‚æ•°å¢åŠ åˆ°URLä¸­å¤šåŠç”¨äºget
```
data ={'wd':'paramsä½œç”¨åŸŸ',}
response = requests.get('https://www.baidu.com/s',params=data)
print(response.url)
è¾“å‡ºï¼š
https://www.baidu.com/s?wd=paramsä½œç”¨åŸŸ
ç­‰åŒäºï¼š
response = requests.get('https://www.baidu.com/s?wd=paramsä½œç”¨åŸŸ')
print(response.url)
```
data|jsonéƒ½æ˜¯ç”¨äºpostæäº¤çš„ã€ä½†æ˜¯åŒºåˆ«åœ¨äºï¼šä¸åŒåœ¨äºdataéœ€è¦å¼ºè½¬json.dumpsæ ¼å¼ã€jsonå‚æ•°ä¼šè‡ªåŠ¨å°†å­—å…¸ç±»å‹çš„å¯¹è±¡è½¬æ¢ä¸ºjsonæ ¼å¼
```
response = Httpx.sendApi(method="post", url=url, json=target_data)
ç­‰åŒäºï¼š
response = Httpx.sendApi(method="post", url=url, json=json.dumps(target_data,ensure_ascii=False))
```        
